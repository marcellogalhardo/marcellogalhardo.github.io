<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content><meta name=description content="This post represents my personal experience while working at N26. I do not speak for the company nor by other employees.
N26 Android App current codebase has a million lines of code, 280+ modules, and 30+ engineers working in 4 different countries and different timezones in a mono repository. Our modules are divided into features and libraries, and we have been using &amp;ldquo;Sample Apps&amp;rdquo; for years now as our full app build time might take up to 20 minutes."><meta name=keywords content=",android,dagger,anvil"><meta name=robots content="noodp"><meta name=theme-color content><link rel=canonical href=https://marcellogalhardo.dev/posts/2021/02/05/n26-path-to-anvil/><title>N26 Path to Anvil :: Marcello Galhardo — Lead Android Engineer @ N26</title><link href=https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css rel=stylesheet type=text/css><link rel=stylesheet href=/main.de188b3201233c251f4fd6306dbd2cb41e408fb8846c09781b2925de7df5025c.css><meta itemprop=name content="N26 Path to Anvil"><meta itemprop=description content="This post represents my personal experience while working at N26. I do not speak for the company nor by other employees.
N26 Android App current codebase has a million lines of code, 280+ modules, and 30+ engineers working in 4 different countries and different timezones in a mono repository. Our modules are divided into features and libraries, and we have been using &ldquo;Sample Apps&rdquo; for years now as our full app build time might take up to 20 minutes."><meta itemprop=datePublished content="2021-02-05T09:02:50+01:00"><meta itemprop=dateModified content="2021-02-05T09:02:50+01:00"><meta itemprop=wordCount content="1128"><meta itemprop=image content="https://marcellogalhardo.dev/"><meta itemprop=keywords content="android,dagger,anvil,"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://marcellogalhardo.dev/"><meta name=twitter:title content="N26 Path to Anvil"><meta name=twitter:description content="This post represents my personal experience while working at N26. I do not speak for the company nor by other employees.
N26 Android App current codebase has a million lines of code, 280+ modules, and 30+ engineers working in 4 different countries and different timezones in a mono repository. Our modules are divided into features and libraries, and we have been using &ldquo;Sample Apps&rdquo; for years now as our full app build time might take up to 20 minutes."><meta property="article:section" content="software development"><meta property="article:published_time" content="2021-02-05 09:02:50 +0100 +0100"></head><body><div class=container><header class=header><span class=header__inner><a href=/ style=text-decoration:none><div class=logo><span class=logo__mark>></span>
<span class=logo__text>marcellogalhardo.dev</span>
<span class=logo__cursor></span></div></a><span class=header__right><nav class=menu><ul class=menu__inner><li><a href=/posts/>Posts</a></li><li><a href=/talks>Talks</a></li><li><a href=/about>About</a></li></ul></nav><span class=menu-trigger><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></span></span></span></header><div class=content><main class=post><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>6 minutes</p></div><article><h1 class=post-title><a href=https://marcellogalhardo.dev/posts/2021/02/05/n26-path-to-anvil/>N26 Path to Anvil</a></h1><div class=post-content><p>This post represents my personal experience while working at N26. I do not speak for the company nor by other employees.</p><p>N26 Android App current codebase has a million lines of code, 280+ modules, and 30+ engineers working in 4 different countries and different timezones in a mono repository. Our modules are divided into features and libraries, and we have been using &ldquo;<a href=https://cashapp.github.io/2020-08-25/attacking-build-times-with-sample-apps>Sample Apps</a>&rdquo; for years now as our full app build time might take up to 20 minutes.</p><p>Today I will share a little about my story with Dagger inside the company, why we adopt Anvil, some of the challenges we faced, and how are the results so far.</p><h1 id=dagger-oh-my>Dagger, (oh, my)</h1><p>N26 has a long history with Dagger. We have been using it for years, we developed our customizations and libraries on top of it, and many of our architectural decisions were made relying on Dagger features.</p><p>Dagger is excellent but comes with a price when used with Kotlin. The more we grew, the more we were charged. Stub generation issues, slow build time, increasing boilerplate to wire <code>@dagger.Component</code>, new joiners avoided touching the graphs due to complexity&mldr;</p><p>Looking for solutions, we found <a href=https://dagger.dev/hilt/>Hilt by Google</a>. We enjoyed many of the ideas they proposed as the <a href=https://dagger.dev/hilt/monolithic.html>Monolithic Component</a> and the <a href=https://dagger.dev/hilt/testing.html>testing philosophy</a>. But the trade-off was not that good for us: a migration would be painful and would take months to years, to not say we did not appreciate the byte code manipulation and the extra KAPT processor.</p><p>Simultaneously, another solution appeared, which solved some of the same problems differently: <a href=https://github.com/square/anvil>Anvil</a>.</p><blockquote><p>Anvil is a Kotlin compiler plugin to make dependency injection with Dagger easier by automatically merging Dagger modules and component interfaces.</p></blockquote><h1 id=sharpening-your-blade>Sharpening your blade</h1><p>To get an idea of how Anvil would affect us, we started with a set of experiments. The first one would be to wire a few modules while keeping backward compatibility without impacting any feature developer. In a matter of hours, we managed to conclude it. In a week, we had many modules using Anvil. We did not identify any expressive build time impact.</p><p>We were happy with the result. We decided to be more ambitious: we selected our code base&rsquo;s prominent monolith module to fully migrated to Anvil, and afterward, we broke this monolith apart into small libraries. It took us a few months to complete the goal, but we succeeded and did not identify any expressive build time impact, again.</p><p>To be sure we were on the right path, we mapped the relationship of a few of our most complex modules before and after adopting Anvil. For a matter of company&rsquo;s privacy, all text is blurred, but you can still see the positive impact by noting the arrows:</p><p><img src=/images/2021/02/05/before-and-after.png alt="Before and After"></p><p>Finally, we decided to go full Anvil: we turned on <a href=https://github.com/square/anvil#dagger-factory-generation>Anvil&rsquo;s Dagger Factory generation</a> in all modules that we could (20+ at the time). We identified build times improvements of ~50% for individual modules build times, ~10% for Sample Apps, and because Anvil does not rely on KAPT, we never saw any KAPT issue again on those modules.</p><p><img src=/images/2021/02/05/benchmark.png alt=Benchmark></p><p>Many improvements, but we believed we could take it further: let&rsquo;s take the good things from Hilt and bring it to Anvil.</p><h1 id=hilt-to-anvil>Hilt to Anvil</h1><p>We decided to adopt what we like from Hilt while using Anvil.</p><p>The first point was to provide a single monolith component, and for that, we started to merge the components and use Anvil&rsquo;s <code>@ContributesTo</code> to binding the modules instead. It took quite some time, it was challenging but it worked well.</p><p>The second one was to support some Jetpack Libraries. We started with <code>FragmentFactory</code> to leverage the constructor injector as much as possible. We created a <code>@FragmentKey</code> and used Dagger&rsquo;s multi-binding to wire everything. Here is how the code might look like:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#a6e22e>@ContributesBinding</span>(Singleton<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>, FragmentFactory<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>)
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>MultibindingFragmentFactory</span> <span style=color:#a6e22e>@Inject</span> <span style=color:#66d9ef>constructor</span>(
    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>val</span> map: Map&lt;Class&lt;<span style=color:#66d9ef>out</span> Fragment&gt;, <span style=color:#a6e22e>@JvmSuppressWildcards</span> Provider&lt;Fragment&gt;&gt;
) : FragmentFactory() {

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>instantiate</span>(classLoader: ClassLoader, className: String): Fragment {
        <span style=color:#66d9ef>val</span> fragmentClass = loadFragmentClass(classLoader, className)
        <span style=color:#66d9ef>return</span> map[fragmentClass]<span style=color:#f92672>?.</span><span style=color:#66d9ef>get</span>() <span style=color:#f92672>?:</span> <span style=color:#66d9ef>super</span>.instantiate(classLoader, className)
    }
}

<span style=color:#a6e22e>@Target</span>(
    AnnotationTarget.CLASS,
    AnnotationTarget.FUNCTION
)
<span style=color:#a6e22e>@Retention</span>(value = AnnotationRetention.RUNTIME)
<span style=color:#a6e22e>@MapKey</span>
<span style=color:#66d9ef>annotation</span> <span style=color:#66d9ef>class</span> <span style=color:#a6e22e>FragmentKey</span>(<span style=color:#66d9ef>val</span> value: KClass&lt;<span style=color:#66d9ef>out</span> Fragment&gt;)

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Activity</span> : AppCompatActivity() {

    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>val</span> component: MainComponent
        <span style=color:#66d9ef>get</span>() = TODO(<span style=color:#e6db74>&#34;Retrieve your Monolith Component&#34;</span>)

    <span style=color:#66d9ef>override</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>onCreate</span>(savedInstanceState: Bundle?) {
        supportFragmentManager.fragmentFactory = component.getFragmentFactory()
        <span style=color:#66d9ef>super</span>.onCreate(savedInstanceState)
    }
}
</code></pre></div><p>And now to wire your <code>Fragment</code>, you can simple:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#a6e22e>@ContributesMultibinding</span>(Singleton<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>)
<span style=color:#a6e22e>@FragmentKey</span>(HomeFragment<span style=color:#f92672>::</span><span style=color:#66d9ef>class</span>)
<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HomeFragment</span> <span style=color:#a6e22e>@Inject</span> <span style=color:#66d9ef>constructor</span>(
    <span style=color:#75715e>// Dependencies goes here. :)
</span><span style=color:#75715e></span>) : Fragment()
</code></pre></div><p>For more details around Fragments, check the <a href=https://developer.android.com/guide/fragments>official guide</a>.</p><p>Having a Monolith Component and relying on Fragment&rsquo;s constructor injector means we can invoke any fragment from any place of our application, and things &ldquo;will work&rdquo;. Scoping becomes intuitive for those classes. If you inject an object in the <code>Fragment</code> is a fragment scope, if you inject into the <code>ViewModel</code> is a view model scope. We also offer a <code>SessionScope</code> and <code>Singleton</code> scope.</p><p>For <code>ViewModels</code> a simple <code>Provider&lt;ViewModel></code> or <code>AssistedInject</code>, if you need an instance of <code>SavedStateHandle</code>, will do the trick.</p><p>And finally, testing: Anvil offers a <a href=https://github.com/square/anvil#exclusions>replace module feature</a> that is handful to provide new dependencies during tests. For that, we create helper modules called <code>testing</code> and we provide fake dependencies of those replacing the production modules. Developers that include the <code>testing</code> in their test classpath can automatically interact with our testing utilities (or create their own, if required). To be completely honest here, it is more of an ongoing process.</p><p><img src=/images/2021/02/05/module-structure.png alt="Module Structure"></p><h1 id=conclusion>Conclusion</h1><p>Anvil is a robust and straightforward solution. It does what it suppose to do and does it well. It benefits from a seamless synergy with Dagger, while not being opinionated and letting you decide how you integrate with other libraries (or not integrating it at all).</p><p>Also, the fact it does not rely on KAPT is a <strong>tremendous advantage</strong> for large projects and should be kept in mind while deciding between Anvil or Hilt. I&rsquo;m delighted with the overall experience, and I enjoy seeing how many feature developers started to migrate away from KAPT to Anvil proactively:</p><p><img src=/images/2021/02/05/no-more-kapt.png alt="Kill KAPT"></p><p>Finally, as you can see above, many of the Hilt&rsquo;s features can be implemented in Anvil. However, it is vital to keep in mind Anvil is not a silver bullet. It is essential to have people in your team that understand Dagger and Dependency Injection to build the integrations you might need.</p><h1 id=update-20210225>Update 2021.02.25</h1><p>As many people reached out asking advice on how to implement some Hilt features (e.g., ViewModelScope, SavedStateHandle, and others), I created a <a href=https://github.com/marcellogalhardo/hilt-to-anvil>small showcase project</a>.</p><h1 id=update-20210319>Update 2021.03.19</h1><p>Updated <code>MultibindingFragmentFactory</code> example and <a href=https://github.com/marcellogalhardo/hilt-to-anvil>showcase project</a> to use new <code>@ContributesMultibinding</code> from <a href=https://github.com/square/anvil/releases/tag/v2.2.0>Anvil 2.2.0</a>.</p><h1 id=credits>Credits</h1><p>Thanks to <a href=https://twitter.com/maryte_chietera>Maria Chietera</a>, <a href=https://twitter.com/orafaaraujo>Rafael Araujo</a>, <a href=https://twitter.com/laggedHero>Tiago Cunha</a>, <a href=https://twitter.com/fabiocarballo>Fabio Carballo</a>, and <a href=https://twitter.com/s_anastasov>Stojan Anastasov</a> proofread review! 🔍</p><p>And a special thank you to <a href=https://twitter.com/vRallev>Ralf Wondratschek</a> for early feedback and creating Anvil! :knife:</p><p>If you like my posts, follow me on Twitter: <a href=https://twitter.com/marcellogalhard>@marcellogalhard</a></p></div></article><hr><div class=post-info><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg><span class=tag><a href=https://marcellogalhardo.dev/tags/android/>android</a></span>
<span class=tag><a href=https://marcellogalhardo.dev/tags/dagger/>dagger</a></span>
<span class=tag><a href=https://marcellogalhardo.dev/tags/anvil/>anvil</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-folder meta-icon"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/></svg><span class=tag><a href=https://marcellogalhardo.dev/categories/software-development/>software development</a></span></p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><polyline points="10 9 9 9 8 9"/></svg>1128 Words</p><p><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>2021-02-05 08:02</p></div><hr><div class=sharing-buttons><a class=resp-sharing-button__link href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_blank rel=noopener aria-label title="Share on facebook"><div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_blank rel=noopener aria-label title="Share on twitter"><div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.tumblr.com/widgets/share/tool?posttype=link&title=N26%20Path%20to%20Anvil&caption=N26%20Path%20to%20Anvil&canonicalUrl=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_blank rel=noopener aria-label title="Share on tumblr"><div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093.0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941.0 9.999.0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg></div></div></a><a class=resp-sharing-button__link href="mailto:?subject=N26%20Path%20to%20Anvil&body=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_self rel=noopener aria-label title="Share via email"><div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></div></div></a><a class=resp-sharing-button__link href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f&media=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f;description=N26%20Path%20to%20Anvil" target=_blank rel=noopener aria-label title="Share on pinterest"><div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12.017.0C5.396.0.029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024.0 1.518.769 1.518 1.688.0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128.0 3.768-2.245 3.768-5.487.0-2.861-2.063-4.869-5.008-4.869-3.41.0-5.409 2.562-5.409 5.199.0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646.0-3.776 2.748-7.252 7.92-7.252 4.158.0 7.392 2.967 7.392 6.923.0 4.135-2.607 7.462-6.233 7.462-1.214.0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607.0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017.0z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f&title=N26%20Path%20to%20Anvil&summary=N26%20Path%20to%20Anvil&source=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_blank rel=noopener aria-label title="Share on linkedin"><div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></div></div></a><a class=resp-sharing-button__link href="https://reddit.com/submit/?url=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f&resubmit=true&title=N26%20Path%20to%20Anvil" target=_blank rel=noopener aria-label title="Share on reddit"><div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M12 0A12 12 0 000 12a12 12 0 0012 12 12 12 0 0012-12A12 12 0 0012 0zm5.01 4.744c.688.0 1.25.561 1.25 1.249a1.25 1.25.0 01-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968.0 1.754.786 1.754 1.754.0.716-.435 1.333-1.01 1.614a3.111 3.111.0 01.042.52c0 2.694-3.13 4.87-7.004 4.87s-7.004-2.176-7.004-4.87c0-.183.015-.366.043-.534A1.748 1.748.0 014.028 12c0-.968.786-1.754 1.754-1.754.463.0.898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342.0 01.14-.197.35.35.0 01.238-.042l2.906.617a1.214 1.214.0 011.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687.0 1.248-.561 1.248-1.249S9.937 12 9.249 12zm5.5.0c-.687.0-1.248.561-1.248 1.25.0.687.561 1.248 1.249 1.248S16 13.937 16 13.249c0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327.0 00-.231.094.33.33.0 000 .463c.842.842 2.484.913 2.961.913s2.105-.056 2.961-.913a.361.361.0 00.029-.463.33.33.0 00-.464.0c-.547.533-1.684.73-2.512.73-.828.0-1.979-.196-2.512-.73a.326.326.0 00-.232-.095z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f;title=N26%20Path%20to%20Anvil" target=_blank rel=noopener aria-label title="Share on xing"><div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M18.188.0c-.517.0-.741.325-.927.66.0.0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211.0.375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016.0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894.0 21.686.0h-3.498zM3.648 4.74c-.211.0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016.0.021L1.86 16.051c-.099.188-.093.381.0.529.085.142.239.234.45.234h3.461c.518.0.766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg></div></div></a><a class=resp-sharing-button__link href="whatsapp://send?text=N26%20Path%20to%20Anvil%20https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_blank rel=noopener aria-label title="Share on whatsapp"><div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198.0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479.0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87.0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86.0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64.0 5.122 1.03 6.988 2.898a9.825 9.825.0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815.0 0012.05.0C5.495.0.16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882.0 005.683 1.448h.005c6.554.0 11.89-5.335 11.893-11.893a11.821 11.821.0 00-3.48-8.413z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f&t=N26%20Path%20to%20Anvil" target=_blank rel=noopener aria-label title="Share on hacker news"><div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentcolor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg></div></div></a><a class=resp-sharing-button__link href="https://telegram.me/share/url?text=N26%20Path%20to%20Anvil&url=https%3a%2f%2fmarcellogalhardo.dev%2fposts%2f2021%2f02%2f05%2fn26-path-to-anvil%2f" target=_blank rel=noopener aria-label title="Share on telegram"><div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden=true class="resp-sharing-button__icon resp-sharing-button__icon--solid"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg></div></div></a></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><span class="button previous"><a href=https://marcellogalhardo.dev/posts/2021/03/30/using-compose-beta-on-as-4-1/><span class=button__icon>←</span>
<span class=button__text>Using Compose Beta on AS 4.1</span></a></span>
<span class="button next"><a href=https://marcellogalhardo.dev/posts/2021/02/01/humble-views-proud-viewmodels/><span class=button__text>Humble Views, Proud ViewModels</span>
<span class=button__icon>→</span></a></span></div></div></main></div><footer class=footer><div class=footer__inner><div class=footer__content><span>&copy; 2021</span>
<span><a href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank rel=noopener>CC BY-NC 4.0</a></span><span><a href=https://marcellogalhardo.dev/posts/index.xml target=_blank title=rss><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></span></div></div></footer></div><script type=text/javascript src=/bundle.min.2ce64ea6ea44a72b13dd812fc2eb5cca3efe878cce258a47c137c17edf46e0602a05e422b618a5b80b5939c731b7a293351c2f2222a21f6ee27e54a8448dd20e.js integrity="sha512-LOZOpupEpysT3YEvwutcyj7+h4zOJYpHwTfBft9G4GAqBeQithiluAtZOccxt6KTNRwvIiKiH27iflSoRI3SDg=="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-7LK7ENB813"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-7LK7ENB813',{anonymize_ip:!1})}</script></body></html>